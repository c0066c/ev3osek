<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>EV3-OSEK: leJOS_EV3/src/ev3/digi_sensors.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EV3-OSEK
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8ed1dde280f261b41bce9360cd3fdf32.html">leJOS_EV3</a></li><li class="navelem"><a class="el" href="dir_4ec2a68c26dfdc62fc66567ff851cecb.html">src</a></li><li class="navelem"><a class="el" href="dir_f628051c74760437d1b13574f9e26eb0.html">ev3</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">digi_sensors.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Function definitions to talk to the digital sensors (I2C sensors)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="digi__sensors_8h_source.html">digi_sensors.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="i2c_8h_source.html">i2c.h</a>&quot;</code><br />
<code>#include &quot;stdio.h&quot;</code><br />
<code>#include &quot;string.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for digi_sensors.c:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c__incl.png" border="0" usemap="#le_j_o_s___e_v3_2src_2ev3_2digi__sensors_8c" alt=""/></div>
<map name="le_j_o_s___e_v3_2src_2ev3_2digi__sensors_8c" id="le_j_o_s___e_v3_2src_2ev3_2digi__sensors_8c">
<area shape="rect" id="node2" href="digi__sensors_8h.html" title="Function declarations to talk to the digital sensors (I2C sensors) " alt="" coords="5,95,112,121"/>
<area shape="rect" id="node4" href="i2c_8h.html" title="Function declarations related to I2C communication. " alt="" coords="137,95,188,121"/>
<area shape="rect" id="node3" href="sensors_8h.html" title="This header contains macros for the sensor ports of the EV3. " alt="" coords="19,169,98,196"/>
<area shape="rect" id="node5" href="mytypes_8h.html" title="This header defines the data types used in the leJOS driver. " alt="" coords="123,169,205,196"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a84815439f48a1162d1f8b411d814bcc2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84815439f48a1162d1f8b411d814bcc2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#a84815439f48a1162d1f8b411d814bcc2">I2C_DEFAULT_SLAVE_ADDRESS</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:a84815439f48a1162d1f8b411d814bcc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default slave address used by all I2C sensors so far. <br /></td></tr>
<tr class="separator:a84815439f48a1162d1f8b411d814bcc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16e717c055b6f26984386b1daaf67f7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad16e717c055b6f26984386b1daaf67f7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#ad16e717c055b6f26984386b1daaf67f7">I2C_DEFAULT_INTERNAL_ADDRESS</a>&#160;&#160;&#160;0x42</td></tr>
<tr class="memdesc:ad16e717c055b6f26984386b1daaf67f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default internal register address which contains the values meassured by the I2C sensors (or the start address in case multiple registers are required) <br /></td></tr>
<tr class="separator:ad16e717c055b6f26984386b1daaf67f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2d488ecea25668433c6735f7e209116f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#a2d488ecea25668433c6735f7e209116f">sensor_digi_enable</a> (int port)</td></tr>
<tr class="memdesc:a2d488ecea25668433c6735f7e209116f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable a digital sensor by configuring the GPIO pins required for I2C communication.  <a href="#a2d488ecea25668433c6735f7e209116f">More...</a><br /></td></tr>
<tr class="separator:a2d488ecea25668433c6735f7e209116f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a057ee5925bf19b397b18983d75996150"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#a057ee5925bf19b397b18983d75996150">sensor_ultrasonic_get_range</a> (int port, unsigned char data_buffer[8])</td></tr>
<tr class="memdesc:a057ee5925bf19b397b18983d75996150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the range of the Lego ultrasonic sensor connected at the specified port.  <a href="#a057ee5925bf19b397b18983d75996150">More...</a><br /></td></tr>
<tr class="separator:a057ee5925bf19b397b18983d75996150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe09ec865382307ec813997125383ffe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#afe09ec865382307ec813997125383ffe">sensor_ultrasonic_set_mode</a> (int port, unsigned char mode)</td></tr>
<tr class="memdesc:afe09ec865382307ec813997125383ffe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the mode of the Lego ultrasonic sensor at the specified port.  <a href="#afe09ec865382307ec813997125383ffe">More...</a><br /></td></tr>
<tr class="separator:afe09ec865382307ec813997125383ffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c221a678641dd691386db5944f308b9"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#a0c221a678641dd691386db5944f308b9">sensor_compass_get</a> (int port)</td></tr>
<tr class="memdesc:a0c221a678641dd691386db5944f308b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the current direction meassured by the HiTechnic compass sensor at the specified port.  <a href="#a0c221a678641dd691386db5944f308b9">More...</a><br /></td></tr>
<tr class="separator:a0c221a678641dd691386db5944f308b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5a350e11233b9c00111b4a46dca01fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#ad5a350e11233b9c00111b4a46dca01fd">sensor_compass_start_calibration</a> (int port)</td></tr>
<tr class="memdesc:ad5a350e11233b9c00111b4a46dca01fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the HiTechnic compass sensor calibration.  <a href="#ad5a350e11233b9c00111b4a46dca01fd">More...</a><br /></td></tr>
<tr class="separator:ad5a350e11233b9c00111b4a46dca01fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a8550a1fba94d0ec353bcba598c072c"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#a4a8550a1fba94d0ec353bcba598c072c">sensor_compass_end_calibration</a> (int port)</td></tr>
<tr class="memdesc:a4a8550a1fba94d0ec353bcba598c072c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the HiTechnic compass sensor calibration.  <a href="#a4a8550a1fba94d0ec353bcba598c072c">More...</a><br /></td></tr>
<tr class="separator:a4a8550a1fba94d0ec353bcba598c072c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb4dea3d66b0f37607942927b5b51a46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#acb4dea3d66b0f37607942927b5b51a46">sensor_accel_calibrate</a> (int port)</td></tr>
<tr class="memdesc:acb4dea3d66b0f37607942927b5b51a46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibrate the HiTechnic acceleration sensor at the specified port.  <a href="#acb4dea3d66b0f37607942927b5b51a46">More...</a><br /></td></tr>
<tr class="separator:acb4dea3d66b0f37607942927b5b51a46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68be0a28d23a82d5964edbb5f636872a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#a68be0a28d23a82d5964edbb5f636872a">sensor_accel_get</a> (int port, short data_buffer[3])</td></tr>
<tr class="memdesc:a68be0a28d23a82d5964edbb5f636872a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the 0-relativ acceleration meassured by the HiTechnic acceleration sensor at the specified port.  <a href="#a68be0a28d23a82d5964edbb5f636872a">More...</a><br /></td></tr>
<tr class="separator:a68be0a28d23a82d5964edbb5f636872a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa265ea983763d3a0e82f48c8f3933118"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#aa265ea983763d3a0e82f48c8f3933118">sensor_accel_get_raw</a> (int port, short data_buffer[3])</td></tr>
<tr class="memdesc:aa265ea983763d3a0e82f48c8f3933118"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the raw acceleration meassured by the HiTechnic acceleration sensor at the specified port.  <a href="#aa265ea983763d3a0e82f48c8f3933118">More...</a><br /></td></tr>
<tr class="separator:aa265ea983763d3a0e82f48c8f3933118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3567b8641cac35657ca9cc68484978b4"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#a3567b8641cac35657ca9cc68484978b4">sensor_hitechnic_color_calibrate</a> (int port, int mode)</td></tr>
<tr class="memdesc:a3567b8641cac35657ca9cc68484978b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibrate the HiTechnic color sensor at the specified port.  <a href="#a3567b8641cac35657ca9cc68484978b4">More...</a><br /></td></tr>
<tr class="separator:a3567b8641cac35657ca9cc68484978b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78fe697ea289ae695bba5733b2d65fc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#a78fe697ea289ae695bba5733b2d65fc2">sensor_hitechnic_color_get</a> (int port, signed short data_buffer[3])</td></tr>
<tr class="memdesc:a78fe697ea289ae695bba5733b2d65fc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the red, green and blue values (RGB) meassured by the HiTechnic color sensor at the specified port.  <a href="#a78fe697ea289ae695bba5733b2d65fc2">More...</a><br /></td></tr>
<tr class="separator:a78fe697ea289ae695bba5733b2d65fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0f726df1fcfa3740e4a0520aee10021"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#ab0f726df1fcfa3740e4a0520aee10021">sensor_hitechnic_color_get_color_id</a> (int port)</td></tr>
<tr class="memdesc:ab0f726df1fcfa3740e4a0520aee10021"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ID of the color meassured by the HiTechnic color sensor at the specified port.  <a href="#ab0f726df1fcfa3740e4a0520aee10021">More...</a><br /></td></tr>
<tr class="separator:ab0f726df1fcfa3740e4a0520aee10021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d6a8ce902fe735c9708cbe49f0353f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#a3d6a8ce902fe735c9708cbe49f0353f2">sensor_hitechnic_color_id_to_string</a> (unsigned char color_id, char *string_buffer)</td></tr>
<tr class="memdesc:a3d6a8ce902fe735c9708cbe49f0353f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform a HiTechnic color sensor ID into a String.  <a href="#a3d6a8ce902fe735c9708cbe49f0353f2">More...</a><br /></td></tr>
<tr class="separator:a3d6a8ce902fe735c9708cbe49f0353f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa6d69c1acedfc6cb36eb8ea07018f92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#afa6d69c1acedfc6cb36eb8ea07018f92">sensor_temperature_nxt_set_resolution</a> (int port, unsigned char resolution)</td></tr>
<tr class="memdesc:afa6d69c1acedfc6cb36eb8ea07018f92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the resolution for the measured temperature values.  <a href="#afa6d69c1acedfc6cb36eb8ea07018f92">More...</a><br /></td></tr>
<tr class="separator:afa6d69c1acedfc6cb36eb8ea07018f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a111641807c99aa571e9ea4652d06a112"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#a111641807c99aa571e9ea4652d06a112">sensor_temperature_nxt_get_resolution</a> (int port)</td></tr>
<tr class="memdesc:a111641807c99aa571e9ea4652d06a112"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current resolution setting of the sensor.  <a href="#a111641807c99aa571e9ea4652d06a112">More...</a><br /></td></tr>
<tr class="separator:a111641807c99aa571e9ea4652d06a112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d2fc17394ad02db6333df0b26688c1"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#a37d2fc17394ad02db6333df0b26688c1">sensor_temperature_nxt_get_temperature</a> (int port)</td></tr>
<tr class="memdesc:a37d2fc17394ad02db6333df0b26688c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measures and returns the current temperature value.  <a href="#a37d2fc17394ad02db6333df0b26688c1">More...</a><br /></td></tr>
<tr class="separator:a37d2fc17394ad02db6333df0b26688c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a88e3241656906d7b23fa43b818b77b73"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88e3241656906d7b23fa43b818b77b73"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#a88e3241656906d7b23fa43b818b77b73">ultrasonic_modes</a> [4] = {2, 2, 2, 2}</td></tr>
<tr class="memdesc:a88e3241656906d7b23fa43b818b77b73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array storing information about the current mode of Lego ultrasonic sensors (0x02 = CONTINOUS MODE is the default mode) <br /></td></tr>
<tr class="separator:a88e3241656906d7b23fa43b818b77b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b7bbe6627fd22b6548d198a0f95211"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="digi__sensors_8c.html#aa1b7bbe6627fd22b6548d198a0f95211">accel_calibration</a> [4][4] = {0}</td></tr>
<tr class="memdesc:aa1b7bbe6627fd22b6548d198a0f95211"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array storing calibration information for the HiTechnic acceleration sensor.  <a href="#aa1b7bbe6627fd22b6548d198a0f95211">More...</a><br /></td></tr>
<tr class="separator:aa1b7bbe6627fd22b6548d198a0f95211"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Function definitions to talk to the digital sensors (I2C sensors) </p>
<dl class="section author"><dt>Author</dt><dd>Tobias Schießl, Christian Soward </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="acb4dea3d66b0f37607942927b5b51a46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensor_accel_calibrate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calibrate the HiTechnic acceleration sensor at the specified port. </p>
<p>The sensor has be at rest when this function is called. Calibrating the sensor means to get the values returned while at rest in order to return values realtive to 0 in calls to sensor_accel_get. If this function is not called directly, it will be triggered on the first call to sensor_accel_get.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_acb4dea3d66b0f37607942927b5b51a46_cgraph.png" border="0" usemap="#digi__sensors_8c_acb4dea3d66b0f37607942927b5b51a46_cgraph" alt=""/></div>
<map name="digi__sensors_8c_acb4dea3d66b0f37607942927b5b51a46_cgraph" id="digi__sensors_8c_acb4dea3d66b0f37607942927b5b51a46_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="208,132,351,159"/>
<area shape="rect" id="node3" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="428,5,535,32"/>
<area shape="rect" id="node4" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="421,56,541,83"/>
<area shape="rect" id="node5" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="428,107,535,133"/>
<area shape="rect" id="node6" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="399,208,564,235"/>
<area shape="rect" id="node7" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="612,208,719,235"/>
<area shape="rect" id="node12" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="614,259,717,285"/>
<area shape="rect" id="node8" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="767,208,861,235"/>
<area shape="rect" id="node9" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="768,259,860,285"/>
<area shape="rect" id="node10" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="909,233,1072,260"/>
<area shape="rect" id="node11" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="915,284,1066,311"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a68be0a28d23a82d5964edbb5f636872a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensor_accel_get </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>data_buffer</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the 0-relativ acceleration meassured by the HiTechnic acceleration sensor at the specified port. </p>
<p>The sensor meassures the acceleration on all 3 axis (X, Y and Z). This function will call sensor_accel_calibrate when called for the first time. The values returned will be relativ to 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to </td></tr>
    <tr><td class="paramname">data_buffer</td><td>- Buffer to store the meassured values in (the values will be stored in the buffer in the following order: X, Y, Z)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_a68be0a28d23a82d5964edbb5f636872a_cgraph.png" border="0" usemap="#digi__sensors_8c_a68be0a28d23a82d5964edbb5f636872a_cgraph" alt=""/></div>
<map name="digi__sensors_8c_a68be0a28d23a82d5964edbb5f636872a_cgraph" id="digi__sensors_8c_a68be0a28d23a82d5964edbb5f636872a_cgraph">
<area shape="rect" id="node2" href="digi__sensors_8c.html#acb4dea3d66b0f37607942927b5b51a46" title="Calibrate the HiTechnic acceleration sensor at the specified port. " alt="" coords="177,157,332,184"/>
<area shape="rect" id="node3" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="380,132,523,159"/>
<area shape="rect" id="node4" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="600,5,707,32"/>
<area shape="rect" id="node5" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="593,56,713,83"/>
<area shape="rect" id="node6" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="600,107,707,133"/>
<area shape="rect" id="node7" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="571,208,736,235"/>
<area shape="rect" id="node8" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="784,208,891,235"/>
<area shape="rect" id="node13" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="786,259,889,285"/>
<area shape="rect" id="node9" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="939,208,1033,235"/>
<area shape="rect" id="node10" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="940,259,1032,285"/>
<area shape="rect" id="node11" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="1081,233,1244,260"/>
<area shape="rect" id="node12" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="1087,284,1238,311"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa265ea983763d3a0e82f48c8f3933118"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensor_accel_get_raw </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>data_buffer</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the raw acceleration meassured by the HiTechnic acceleration sensor at the specified port. </p>
<p>The sensor meassures the acceleration on all 3 axis (X, Y and Z). This function will not call sensor_accel_calibrate and return the raw values (not relativ to 0) returned by the sensor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to </td></tr>
    <tr><td class="paramname">data_buffer</td><td>- Buffer to store the meassured values in (the values will be stored in the buffer in the following order: X, Y, Z)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_aa265ea983763d3a0e82f48c8f3933118_cgraph.png" border="0" usemap="#digi__sensors_8c_aa265ea983763d3a0e82f48c8f3933118_cgraph" alt=""/></div>
<map name="digi__sensors_8c_aa265ea983763d3a0e82f48c8f3933118_cgraph" id="digi__sensors_8c_aa265ea983763d3a0e82f48c8f3933118_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="205,132,348,159"/>
<area shape="rect" id="node3" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="425,5,532,32"/>
<area shape="rect" id="node4" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="419,56,539,83"/>
<area shape="rect" id="node5" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="425,107,532,133"/>
<area shape="rect" id="node6" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="396,208,561,235"/>
<area shape="rect" id="node7" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="609,208,716,235"/>
<area shape="rect" id="node12" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="611,259,714,285"/>
<area shape="rect" id="node8" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="764,208,859,235"/>
<area shape="rect" id="node9" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="765,259,857,285"/>
<area shape="rect" id="node10" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="907,233,1069,260"/>
<area shape="rect" id="node11" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="913,284,1063,311"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4a8550a1fba94d0ec353bcba598c072c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short sensor_compass_end_calibration </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the HiTechnic compass sensor calibration. </p>
<p>Read the information in the appropriate start_calibration function first. This function is the third step and finishs the calibration process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the calibration was successful, 0 otherwise </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_a4a8550a1fba94d0ec353bcba598c072c_cgraph.png" border="0" usemap="#digi__sensors_8c_a4a8550a1fba94d0ec353bcba598c072c_cgraph" alt=""/></div>
<map name="digi__sensors_8c_a4a8550a1fba94d0ec353bcba598c072c_cgraph" id="digi__sensors_8c_a4a8550a1fba94d0ec353bcba598c072c_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="203,132,345,159"/>
<area shape="rect" id="node3" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="423,5,529,32"/>
<area shape="rect" id="node4" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="416,56,536,83"/>
<area shape="rect" id="node5" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="423,107,529,133"/>
<area shape="rect" id="node6" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="393,208,559,235"/>
<area shape="rect" id="node7" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="607,208,713,235"/>
<area shape="rect" id="node12" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="609,259,711,285"/>
<area shape="rect" id="node8" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="761,208,856,235"/>
<area shape="rect" id="node9" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="763,259,855,285"/>
<area shape="rect" id="node10" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="904,233,1067,260"/>
<area shape="rect" id="node11" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="910,284,1061,311"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0c221a678641dd691386db5944f308b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short sensor_compass_get </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the current direction meassured by the HiTechnic compass sensor at the specified port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current direction in degrees meassured by the sensor, ranging from 0 to 360 </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_a0c221a678641dd691386db5944f308b9_cgraph.png" border="0" usemap="#digi__sensors_8c_a0c221a678641dd691386db5944f308b9_cgraph" alt=""/></div>
<map name="digi__sensors_8c_a0c221a678641dd691386db5944f308b9_cgraph" id="digi__sensors_8c_a0c221a678641dd691386db5944f308b9_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="200,132,343,159"/>
<area shape="rect" id="node3" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="420,5,527,32"/>
<area shape="rect" id="node4" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="413,56,533,83"/>
<area shape="rect" id="node5" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="420,107,527,133"/>
<area shape="rect" id="node6" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="391,208,556,235"/>
<area shape="rect" id="node7" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="604,208,711,235"/>
<area shape="rect" id="node12" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="606,259,709,285"/>
<area shape="rect" id="node8" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="759,208,853,235"/>
<area shape="rect" id="node9" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="760,259,852,285"/>
<area shape="rect" id="node10" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="901,233,1064,260"/>
<area shape="rect" id="node11" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="907,284,1058,311"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad5a350e11233b9c00111b4a46dca01fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensor_compass_start_calibration </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the HiTechnic compass sensor calibration. </p>
<p>You should calibrate a compass sensor when it is mounted on your robot in the way you want to use it. So the sensor will be calibrated for your specific environment/robot. The calibration adjustment is stored persitent on the sensor itself. For more information see the HiTechnic documentation. Calibrating the compass sensor takes 3 steps. (1) Call this function. (2) Move the sensor/robot in a circle (540 degrees - 720 degrees within 20 seconds). (3) Call the appropriate end_calibration function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_ad5a350e11233b9c00111b4a46dca01fd_cgraph.png" border="0" usemap="#digi__sensors_8c_ad5a350e11233b9c00111b4a46dca01fd_cgraph" alt=""/></div>
<map name="digi__sensors_8c_ad5a350e11233b9c00111b4a46dca01fd_cgraph" id="digi__sensors_8c_ad5a350e11233b9c00111b4a46dca01fd_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="208,132,351,159"/>
<area shape="rect" id="node3" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="428,5,535,32"/>
<area shape="rect" id="node4" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="421,56,541,83"/>
<area shape="rect" id="node5" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="428,107,535,133"/>
<area shape="rect" id="node6" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="399,208,564,235"/>
<area shape="rect" id="node7" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="612,208,719,235"/>
<area shape="rect" id="node12" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="614,259,717,285"/>
<area shape="rect" id="node8" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="767,208,861,235"/>
<area shape="rect" id="node9" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="768,259,860,285"/>
<area shape="rect" id="node10" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="909,233,1072,260"/>
<area shape="rect" id="node11" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="915,284,1066,311"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2d488ecea25668433c6735f7e209116f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensor_digi_enable </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable a digital sensor by configuring the GPIO pins required for I2C communication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_a2d488ecea25668433c6735f7e209116f_cgraph.png" border="0" usemap="#digi__sensors_8c_a2d488ecea25668433c6735f7e209116f_cgraph" alt=""/></div>
<map name="digi__sensors_8c_a2d488ecea25668433c6735f7e209116f_cgraph" id="digi__sensors_8c_a2d488ecea25668433c6735f7e209116f_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a0332fb23d14c50f230824b0123198784" title="Enable an I2C port. " alt="" coords="187,31,271,57"/>
<area shape="rect" id="node3" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="319,5,481,32"/>
<area shape="rect" id="node4" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="325,56,475,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3567b8641cac35657ca9cc68484978b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char sensor_hitechnic_color_calibrate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calibrate the HiTechnic color sensor at the specified port. </p>
<p>To calibrate the sensor properly, this function has to be called two times. Once with mode set to CAL_WHITE (0x043) and once with mode set to CAL_BLACK (0x42). Calibration information is stored directly on the sensor and will be persistent, even if the sensor is no longer provided with power. When called with mode set to CAL_WHITE, the sensor should be located in front of a diffuse white surface at a distance of 1.5 cm. When called with mode set to CAL_BLACK, the sensor should have nothing in front of it within a distance of about 2 m. If the calibration command was received successfully, the sensors LED will blink for confirmation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to </td></tr>
    <tr><td class="paramname">mode</td><td>- The mode to calibrate the sensor with: CAL_WHITE (0x43) or CAL_BLACK (0x42)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the calibration was successful, 0 otherwise </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_a3567b8641cac35657ca9cc68484978b4_cgraph.png" border="0" usemap="#digi__sensors_8c_a3567b8641cac35657ca9cc68484978b4_cgraph" alt=""/></div>
<map name="digi__sensors_8c_a3567b8641cac35657ca9cc68484978b4_cgraph" id="digi__sensors_8c_a3567b8641cac35657ca9cc68484978b4_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="208,132,351,159"/>
<area shape="rect" id="node3" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="428,5,535,32"/>
<area shape="rect" id="node4" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="421,56,541,83"/>
<area shape="rect" id="node5" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="428,107,535,133"/>
<area shape="rect" id="node6" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="399,208,564,235"/>
<area shape="rect" id="node7" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="612,208,719,235"/>
<area shape="rect" id="node12" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="614,259,717,285"/>
<area shape="rect" id="node8" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="767,208,861,235"/>
<area shape="rect" id="node9" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="768,259,860,285"/>
<area shape="rect" id="node10" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="909,233,1072,260"/>
<area shape="rect" id="node11" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="915,284,1066,311"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a78fe697ea289ae695bba5733b2d65fc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensor_hitechnic_color_get </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">signed short&#160;</td>
          <td class="paramname"><em>data_buffer</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the red, green and blue values (RGB) meassured by the HiTechnic color sensor at the specified port. </p>
<p>For best results, the sensor should be calibrated before calling this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to </td></tr>
    <tr><td class="paramname">data_buffer</td><td>- Buffer to store the received data in (the values will be stored in the following order: red, green, blue)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_a78fe697ea289ae695bba5733b2d65fc2_cgraph.png" border="0" usemap="#digi__sensors_8c_a78fe697ea289ae695bba5733b2d65fc2_cgraph" alt=""/></div>
<map name="digi__sensors_8c_a78fe697ea289ae695bba5733b2d65fc2_cgraph" id="digi__sensors_8c_a78fe697ea289ae695bba5733b2d65fc2_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="233,132,376,159"/>
<area shape="rect" id="node3" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="453,5,560,32"/>
<area shape="rect" id="node4" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="447,56,567,83"/>
<area shape="rect" id="node5" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="453,107,560,133"/>
<area shape="rect" id="node6" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="424,208,589,235"/>
<area shape="rect" id="node7" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="637,208,744,235"/>
<area shape="rect" id="node12" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="639,259,742,285"/>
<area shape="rect" id="node8" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="792,208,887,235"/>
<area shape="rect" id="node9" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="793,259,885,285"/>
<area shape="rect" id="node10" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="935,233,1097,260"/>
<area shape="rect" id="node11" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="941,284,1091,311"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab0f726df1fcfa3740e4a0520aee10021"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char sensor_hitechnic_color_get_color_id </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ID of the color meassured by the HiTechnic color sensor at the specified port. </p>
<p>For best results, the sensor should be calibrated before calling this function. See <a class="el" href="digi__sensors_8h.html" title="Function declarations to talk to the digital sensors (I2C sensors) ">digi_sensors.h</a> to see which color is represented by which ID.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The ID of the color meassured by the sensor </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_ab0f726df1fcfa3740e4a0520aee10021_cgraph.png" border="0" usemap="#digi__sensors_8c_ab0f726df1fcfa3740e4a0520aee10021_cgraph" alt=""/></div>
<map name="digi__sensors_8c_ab0f726df1fcfa3740e4a0520aee10021_cgraph" id="digi__sensors_8c_ab0f726df1fcfa3740e4a0520aee10021_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="208,132,351,159"/>
<area shape="rect" id="node3" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="428,5,535,32"/>
<area shape="rect" id="node4" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="421,56,541,83"/>
<area shape="rect" id="node5" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="428,107,535,133"/>
<area shape="rect" id="node6" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="399,208,564,235"/>
<area shape="rect" id="node7" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="612,208,719,235"/>
<area shape="rect" id="node12" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="614,259,717,285"/>
<area shape="rect" id="node8" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="767,208,861,235"/>
<area shape="rect" id="node9" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="768,259,860,285"/>
<area shape="rect" id="node10" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="909,233,1072,260"/>
<area shape="rect" id="node11" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="915,284,1066,311"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3d6a8ce902fe735c9708cbe49f0353f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensor_hitechnic_color_id_to_string </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>color_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>string_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform a HiTechnic color sensor ID into a String. </p>
<p>This function was for debug purposes but it might be useful in the future. Therefore it remains part of the code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">color_id</td><td>- The ID of the color to represent as a String </td></tr>
    <tr><td class="paramname">string_buffer</td><td>- Buffer to store the String representation of the color in</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="a111641807c99aa571e9ea4652d06a112"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char sensor_temperature_nxt_get_resolution </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current resolution setting of the sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current resolution. See the macros TEMP9BIT ... TEMP12BIT </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_a111641807c99aa571e9ea4652d06a112_cgraph.png" border="0" usemap="#digi__sensors_8c_a111641807c99aa571e9ea4652d06a112_cgraph" alt=""/></div>
<map name="digi__sensors_8c_a111641807c99aa571e9ea4652d06a112_cgraph" id="digi__sensors_8c_a111641807c99aa571e9ea4652d06a112_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="191,132,333,159"/>
<area shape="rect" id="node3" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="411,5,517,32"/>
<area shape="rect" id="node4" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="404,56,524,83"/>
<area shape="rect" id="node5" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="411,107,517,133"/>
<area shape="rect" id="node6" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="381,208,547,235"/>
<area shape="rect" id="node7" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="595,208,701,235"/>
<area shape="rect" id="node12" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="597,259,699,285"/>
<area shape="rect" id="node8" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="749,208,844,235"/>
<area shape="rect" id="node9" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="751,259,843,285"/>
<area shape="rect" id="node10" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="892,233,1055,260"/>
<area shape="rect" id="node11" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="898,284,1049,311"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a37d2fc17394ad02db6333df0b26688c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float sensor_temperature_nxt_get_temperature </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Measures and returns the current temperature value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current temperature given in degrees Celsius </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_a37d2fc17394ad02db6333df0b26688c1_cgraph.png" border="0" usemap="#digi__sensors_8c_a37d2fc17394ad02db6333df0b26688c1_cgraph" alt=""/></div>
<map name="digi__sensors_8c_a37d2fc17394ad02db6333df0b26688c1_cgraph" id="digi__sensors_8c_a37d2fc17394ad02db6333df0b26688c1_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="201,132,344,159"/>
<area shape="rect" id="node3" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="421,5,528,32"/>
<area shape="rect" id="node4" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="415,56,535,83"/>
<area shape="rect" id="node5" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="421,107,528,133"/>
<area shape="rect" id="node6" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="392,208,557,235"/>
<area shape="rect" id="node7" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="605,208,712,235"/>
<area shape="rect" id="node12" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="607,259,710,285"/>
<area shape="rect" id="node8" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="760,208,855,235"/>
<area shape="rect" id="node9" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="761,259,853,285"/>
<area shape="rect" id="node10" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="903,233,1065,260"/>
<area shape="rect" id="node11" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="909,284,1059,311"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afa6d69c1acedfc6cb36eb8ea07018f92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensor_temperature_nxt_set_resolution </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>resolution</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the resolution for the measured temperature values. </p>
<p>The internal Texas Instruments tmp275 temperature sensor can operate in different resolution modes. Lower resolution is faster. See the TEMP9BIT ... TEMP12BIT macros for more information or the official documentation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to </td></tr>
    <tr><td class="paramname">resolution</td><td>- The resolution. Use on of the macros TEMP9BIT ... TEMP12BIT</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_afa6d69c1acedfc6cb36eb8ea07018f92_cgraph.png" border="0" usemap="#digi__sensors_8c_afa6d69c1acedfc6cb36eb8ea07018f92_cgraph" alt=""/></div>
<map name="digi__sensors_8c_afa6d69c1acedfc6cb36eb8ea07018f92_cgraph" id="digi__sensors_8c_afa6d69c1acedfc6cb36eb8ea07018f92_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="191,132,333,159"/>
<area shape="rect" id="node3" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="411,5,517,32"/>
<area shape="rect" id="node4" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="404,56,524,83"/>
<area shape="rect" id="node5" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="411,107,517,133"/>
<area shape="rect" id="node6" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="381,208,547,235"/>
<area shape="rect" id="node7" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="595,208,701,235"/>
<area shape="rect" id="node12" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="597,259,699,285"/>
<area shape="rect" id="node8" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="749,208,844,235"/>
<area shape="rect" id="node9" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="751,259,843,285"/>
<area shape="rect" id="node10" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="892,233,1055,260"/>
<area shape="rect" id="node11" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="898,284,1049,311"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a057ee5925bf19b397b18983d75996150"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensor_ultrasonic_get_range </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>data_buffer</em>[8]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the range of the Lego ultrasonic sensor connected at the specified port. </p>
<p>The sensor meassures distances from 0 to 255 in cm. If nothing is located in front of the sensor, the value will be 255. This function will consider the sensor's current mode. If it is in CONTINOUS MODE (default), only the first value of the array will be valid. The others will be set to 0. If it is in SINGLE SHOT MODE, all 8 entries of the array will be values returned by the sensor. If less than 8 objects are detected, some entries will be set to 255. If it is in OFF MODE, all 8 entries of the array will be set to 0. Note: If the sensor is in SINGLE SHOT MODE, no additional SINGLE SHOT command will be sent in this function - call sensor_ultrasonic_set_mode therefore.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to </td></tr>
    <tr><td class="paramname">data_buffer</td><td>- Buffer to store the result in (depending on the sensor's current mode, not all entries might be filled with values returned by the sensor)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_a057ee5925bf19b397b18983d75996150_cgraph.png" border="0" usemap="#digi__sensors_8c_a057ee5925bf19b397b18983d75996150_cgraph" alt=""/></div>
<map name="digi__sensors_8c_a057ee5925bf19b397b18983d75996150_cgraph" id="digi__sensors_8c_a057ee5925bf19b397b18983d75996150_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="203,132,345,159"/>
<area shape="rect" id="node3" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="423,5,529,32"/>
<area shape="rect" id="node4" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="416,56,536,83"/>
<area shape="rect" id="node5" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="423,107,529,133"/>
<area shape="rect" id="node6" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="393,208,559,235"/>
<area shape="rect" id="node7" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="607,208,713,235"/>
<area shape="rect" id="node12" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="609,259,711,285"/>
<area shape="rect" id="node8" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="761,208,856,235"/>
<area shape="rect" id="node9" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="763,259,855,285"/>
<area shape="rect" id="node10" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="904,233,1067,260"/>
<area shape="rect" id="node11" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="910,284,1061,311"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afe09ec865382307ec813997125383ffe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sensor_ultrasonic_set_mode </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the mode of the Lego ultrasonic sensor at the specified port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>- The port the sensor is connected to </td></tr>
    <tr><td class="paramname">mode</td><td>- The mode to set: ULTRASONIC_MODE_OFF (0x00), ULTRASONIC_MODE_SINGLE_SHOT (0x01) or ULTRASONIC_MODE_CONTINOUS (0x02)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="digi__sensors_8c_afe09ec865382307ec813997125383ffe_cgraph.png" border="0" usemap="#digi__sensors_8c_afe09ec865382307ec813997125383ffe_cgraph" alt=""/></div>
<map name="digi__sensors_8c_afe09ec865382307ec813997125383ffe_cgraph" id="digi__sensors_8c_afe09ec865382307ec813997125383ffe_cgraph">
<area shape="rect" id="node2" href="i2c_8c.html#a1ccf872ddce00bf2c601aaa14c005d8d" title="Start a new I2C transaction AND wait until it&#39;s finished. " alt="" coords="241,132,384,159"/>
<area shape="rect" id="node3" href="i2c_8c.html#ac6512ac4ff6a45def4900a659bee5dc1" title="Send an I2C stop signal. " alt="" coords="461,5,568,32"/>
<area shape="rect" id="node4" href="systick_8c.html#a28abc49038576a107430e9beb1382272" title="Wait for the specified amount of time. " alt="" coords="455,56,575,83"/>
<area shape="rect" id="node5" href="i2c_8c.html#a06d4ea5d35013c54b1c91651ed9e7a6d" title="Send an I2C start signal. " alt="" coords="461,107,568,133"/>
<area shape="rect" id="node6" href="i2c_8c.html#a675a7be8d1be3812bbfbae4fb4868fe7" title="Send the I2C slave address along with the read/write bit. " alt="" coords="432,208,597,235"/>
<area shape="rect" id="node7" href="i2c_8c.html#a5672b3f97bcc480cfef2c4598112b215" title="Send a byte. " alt="" coords="645,208,752,235"/>
<area shape="rect" id="node12" href="i2c_8c.html#a518ba2e761a5fdfe08ded5ba19f89d26" title="Read a byte. " alt="" coords="647,259,750,285"/>
<area shape="rect" id="node8" href="i2c_8c.html#a437ed48e34ac6e068bfc8ff0e0cda3ed" title="Send a bit by setting the SDA pin high or low. " alt="" coords="800,208,895,235"/>
<area shape="rect" id="node9" href="i2c_8c.html#aa0594ce53846cd61d3b066e12a082d49" title="Read a bit by reading the signal on SDA. " alt="" coords="801,259,893,285"/>
<area shape="rect" id="node10" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="943,233,1105,260"/>
<area shape="rect" id="node11" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="949,284,1099,311"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="aa1b7bbe6627fd22b6548d198a0f95211"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short accel_calibration[4][4] = {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Array storing calibration information for the HiTechnic acceleration sensor. </p>
<p>This information is used to calculate return values for the acceleration sensor which are relativ to 0. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
