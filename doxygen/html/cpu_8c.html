<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>EV3-OSEK: leJOS_EV3/src/ev3/drivers/cpu.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EV3-OSEK
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8ed1dde280f261b41bce9360cd3fdf32.html">leJOS_EV3</a></li><li class="navelem"><a class="el" href="dir_4ec2a68c26dfdc62fc66567ff851cecb.html">src</a></li><li class="navelem"><a class="el" href="dir_f628051c74760437d1b13574f9e26eb0.html">ev3</a></li><li class="navelem"><a class="el" href="dir_65d0c94d9aad33c7b03a40a5f37f243e.html">drivers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cpu.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the API definitions for configuring CPU.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="cpu_8h_source.html">cpu.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for cpu.c:</div>
<div class="dyncontent">
<div class="center"><img src="cpu_8c__incl.png" border="0" usemap="#le_j_o_s___e_v3_2src_2ev3_2drivers_2cpu_8c" alt=""/></div>
<map name="le_j_o_s___e_v3_2src_2ev3_2drivers_2cpu_8c" id="le_j_o_s___e_v3_2src_2ev3_2drivers_2cpu_8c">
<area shape="rect" id="node2" href="cpu_8h.html" title="CPU related function prototypes. " alt="" coords="68,95,123,121"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2e4c718bb11e64594297079b8a792ce6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpu_8c.html#a2e4c718bb11e64594297079b8a792ce6">CPUSwitchToPrivilegedMode</a> (void)</td></tr>
<tr class="memdesc:a2e4c718bb11e64594297079b8a792ce6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API can be used to switch from user mode to privileged mode The priviledge mode will be system mode. System mode will share the same resources as user mode, but with privileges.  <a href="#a2e4c718bb11e64594297079b8a792ce6">More...</a><br /></td></tr>
<tr class="separator:a2e4c718bb11e64594297079b8a792ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cf2b146c5525ebe1a784e41d5f2ed0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpu_8c.html#a4cf2b146c5525ebe1a784e41d5f2ed0b">CPUSwitchToUserMode</a> (void)</td></tr>
<tr class="memdesc:a4cf2b146c5525ebe1a784e41d5f2ed0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API can be used to switch from any previleged mode of ARM to user mode. After this API is called, the program will continue to operate in non-privileged mode, until any exception occurs. After the exception is serviced, execution will continue in user mode.  <a href="#a4cf2b146c5525ebe1a784e41d5f2ed0b">More...</a><br /></td></tr>
<tr class="separator:a4cf2b146c5525ebe1a784e41d5f2ed0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac84e3399d2fc5b4796d4a1b5b0968b02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpu_8c.html#ac84e3399d2fc5b4796d4a1b5b0968b02">CPUAbortHandler</a> (void)</td></tr>
<tr class="memdesc:ac84e3399d2fc5b4796d4a1b5b0968b02"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API is called when the CPU is aborted or during execution of any undefined instruction. Both IRQ and FIQ will be disabled when the CPU gets an abort and calls this API.  <a href="#ac84e3399d2fc5b4796d4a1b5b0968b02">More...</a><br /></td></tr>
<tr class="separator:ac84e3399d2fc5b4796d4a1b5b0968b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8f676ff7875642231f04babbd17b97"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b8f676ff7875642231f04babbd17b97"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>CPUIntStatus</b> (void)</td></tr>
<tr class="separator:a2b8f676ff7875642231f04babbd17b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d56a9889bcfc726ec266ba09d73fa3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a01d56a9889bcfc726ec266ba09d73fa3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>CPUirqd</b> (void)</td></tr>
<tr class="separator:a01d56a9889bcfc726ec266ba09d73fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d86dea46868108da20356e10086242c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d86dea46868108da20356e10086242c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>CPUirqe</b> (void)</td></tr>
<tr class="separator:a3d86dea46868108da20356e10086242c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc402dfda2bcaa51df0d8d65f0fb5bf3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adc402dfda2bcaa51df0d8d65f0fb5bf3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>CPUfiqd</b> (void)</td></tr>
<tr class="separator:adc402dfda2bcaa51df0d8d65f0fb5bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3449b67e080862631066abc74487ca7c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3449b67e080862631066abc74487ca7c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>CPUfiqe</b> (void)</td></tr>
<tr class="separator:a3449b67e080862631066abc74487ca7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the API definitions for configuring CPU. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac84e3399d2fc5b4796d4a1b5b0968b02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CPUAbortHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API is called when the CPU is aborted or during execution of any undefined instruction. Both IRQ and FIQ will be disabled when the CPU gets an abort and calls this API. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Note : The user can perform error handling such as an immediate reset inside this API if required. </p>

</div>
</div>
<a class="anchor" id="a2e4c718bb11e64594297079b8a792ce6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CPUSwitchToPrivilegedMode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API can be used to switch from user mode to privileged mode The priviledge mode will be system mode. System mode will share the same resources as user mode, but with privileges. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Note : All the access to system configuration which needs privileged access can be done after calling this API. </p>

</div>
</div>
<a class="anchor" id="a4cf2b146c5525ebe1a784e41d5f2ed0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CPUSwitchToUserMode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API can be used to switch from any previleged mode of ARM to user mode. After this API is called, the program will continue to operate in non-privileged mode, until any exception occurs. After the exception is serviced, execution will continue in user mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p>Note : All the access to system configuration which needs privileged access shall be done before this API is called. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
