<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>EV3-OSEK: leJOS_EV3/src/ev3/ninja/button.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EV3-OSEK
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8ed1dde280f261b41bce9360cd3fdf32.html">leJOS_EV3</a></li><li class="navelem"><a class="el" href="dir_4ec2a68c26dfdc62fc66567ff851cecb.html">src</a></li><li class="navelem"><a class="el" href="dir_f628051c74760437d1b13574f9e26eb0.html">ev3</a></li><li class="navelem"><a class="el" href="dir_56bb3b8850cdbbebe5c98ece8dab465b.html">ninja</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">button.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains function definitions to use the hardware buttons of the EV3.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="button_8h_source.html">button.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ninja_2gpio_8h_source.html">gpio.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for button.c:</div>
<div class="dyncontent">
<div class="center"><img src="button_8c__incl.png" border="0" usemap="#le_j_o_s___e_v3_2src_2ev3_2ninja_2button_8c" alt=""/></div>
<map name="le_j_o_s___e_v3_2src_2ev3_2ninja_2button_8c" id="le_j_o_s___e_v3_2src_2ev3_2ninja_2button_8c">
<area shape="rect" id="node2" href="button_8h.html" title="This header contains function declarations to use the hardware buttons of the EV3 as well as enumerat..." alt="" coords="11,95,80,121"/>
<area shape="rect" id="node3" href="ninja_2gpio_8h.html" title="This header declares function required to interact with GPIO pins of the SoC. " alt="" coords="105,95,162,121"/>
<area shape="rect" id="node4" href="hw__gpio_8h.html" title="GPIO register definitions. " alt="" coords="54,169,213,196"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a70d2b56a865445f6eacb4213f24c36e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="button_8h.html#a0bbab92f5605e16a4162b6c5ccc2c29b">button_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="button_8c.html#a70d2b56a865445f6eacb4213f24c36e8">button_get_state</a> (<a class="el" href="button_8h.html#a679c27cd16998bb7e9b45dd60e5e30fb">button_id</a> button)</td></tr>
<tr class="memdesc:a70d2b56a865445f6eacb4213f24c36e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the given button is pressed.  <a href="#a70d2b56a865445f6eacb4213f24c36e8">More...</a><br /></td></tr>
<tr class="separator:a70d2b56a865445f6eacb4213f24c36e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4031f58a6c5e9c96eeed977f1d76db22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="button_8h.html#a679c27cd16998bb7e9b45dd60e5e30fb">button_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="button_8c.html#a4031f58a6c5e9c96eeed977f1d76db22">button_get_pressed</a> (void)</td></tr>
<tr class="memdesc:a4031f58a6c5e9c96eeed977f1d76db22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if any button is pressed.  <a href="#a4031f58a6c5e9c96eeed977f1d76db22">More...</a><br /></td></tr>
<tr class="separator:a4031f58a6c5e9c96eeed977f1d76db22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ebb64bc3ea7a1e75d422784fe931347"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="button_8c.html#a9ebb64bc3ea7a1e75d422784fe931347">button_init</a> (void)</td></tr>
<tr class="memdesc:a9ebb64bc3ea7a1e75d422784fe931347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the buttons be configuring the required GPIO pins as input pins.  <a href="#a9ebb64bc3ea7a1e75d422784fe931347">More...</a><br /></td></tr>
<tr class="separator:a9ebb64bc3ea7a1e75d422784fe931347"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a07e9441eeb4ae735dbbe5ec08bfbd33e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbutton__info.html">button_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="button_8c.html#a07e9441eeb4ae735dbbe5ec08bfbd33e">buttons</a> []</td></tr>
<tr class="memdesc:a07e9441eeb4ae735dbbe5ec08bfbd33e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array storing the required GPIO pins to read the state of the buttons.  <a href="#a07e9441eeb4ae735dbbe5ec08bfbd33e">More...</a><br /></td></tr>
<tr class="separator:a07e9441eeb4ae735dbbe5ec08bfbd33e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains function definitions to use the hardware buttons of the EV3. </p>
<dl class="section author"><dt>Author</dt><dd>Tobias Schie√ül, ev3ninja </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4031f58a6c5e9c96eeed977f1d76db22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="button_8h.html#a679c27cd16998bb7e9b45dd60e5e30fb">button_id</a> button_get_pressed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if any button is pressed. </p>
<p>This function will check if any button is pressed. As soon as one button that is pressed is found, it will be returned and the remaining buttons will not be checked. The buttons are checked in the order they are defined in the enumeration button_id, i.e. LEFT, RIGHT, TOP, BOTTOM, CENTER, BACK.</p>
<dl class="section return"><dt>Returns</dt><dd>The ID of the button that was pressed (ranging from 0x00 to 0x05) or BUTTON_NONE (0xFF) if none was pressed </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="button_8c_a4031f58a6c5e9c96eeed977f1d76db22_cgraph.png" border="0" usemap="#button_8c_a4031f58a6c5e9c96eeed977f1d76db22_cgraph" alt=""/></div>
<map name="button_8c_a4031f58a6c5e9c96eeed977f1d76db22_cgraph" id="button_8c_a4031f58a6c5e9c96eeed977f1d76db22_cgraph">
<area shape="rect" id="node2" href="button_8c.html#a70d2b56a865445f6eacb4213f24c36e8" title="Check if the given button is pressed. " alt="" coords="189,5,308,32"/>
<area shape="rect" id="node3" href="ninja_2gpio_8c.html#adaed681b483d3acdb4f65842049abcda" title="Get the signal at a GPIO pin which is configured as input. " alt="" coords="356,5,427,32"/>
<area shape="rect" id="node4" href="ninja_2gpio_8c.html#a624ad0306d1c4e6dfc8e2bb01798e0ce" title="Initialize a GPIO pin with its GPIO functionality and set its direction to input. ..." alt="" coords="475,5,579,32"/>
<area shape="rect" id="node5" href="ninja_2gpio_8c.html#a8cc18d800719367f95a7c1b1496e4267" title="Initialize a GPIO pin with its GPIO functionality. " alt="" coords="627,5,721,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a70d2b56a865445f6eacb4213f24c36e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="button_8h.html#a0bbab92f5605e16a4162b6c5ccc2c29b">button_state</a> button_get_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="button_8h.html#a679c27cd16998bb7e9b45dd60e5e30fb">button_id</a>&#160;</td>
          <td class="paramname"><em>button</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the given button is pressed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">button</td><td>- The ID of the button to check (ranging from 0x00 to 0x05)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The state of the button (BUTTON_DOWN = 0x01 if the button is pressed, BUTTON_UP = 0x00 otherwise) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="button_8c_a70d2b56a865445f6eacb4213f24c36e8_cgraph.png" border="0" usemap="#button_8c_a70d2b56a865445f6eacb4213f24c36e8_cgraph" alt=""/></div>
<map name="button_8c_a70d2b56a865445f6eacb4213f24c36e8_cgraph" id="button_8c_a70d2b56a865445f6eacb4213f24c36e8_cgraph">
<area shape="rect" id="node2" href="ninja_2gpio_8c.html#adaed681b483d3acdb4f65842049abcda" title="Get the signal at a GPIO pin which is configured as input. " alt="" coords="172,5,243,32"/>
<area shape="rect" id="node3" href="ninja_2gpio_8c.html#a624ad0306d1c4e6dfc8e2bb01798e0ce" title="Initialize a GPIO pin with its GPIO functionality and set its direction to input. ..." alt="" coords="291,5,395,32"/>
<area shape="rect" id="node4" href="ninja_2gpio_8c.html#a8cc18d800719367f95a7c1b1496e4267" title="Initialize a GPIO pin with its GPIO functionality. " alt="" coords="443,5,537,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9ebb64bc3ea7a1e75d422784fe931347"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void button_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the buttons be configuring the required GPIO pins as input pins. </p>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="button_8c_a9ebb64bc3ea7a1e75d422784fe931347_cgraph.png" border="0" usemap="#button_8c_a9ebb64bc3ea7a1e75d422784fe931347_cgraph" alt=""/></div>
<map name="button_8c_a9ebb64bc3ea7a1e75d422784fe931347_cgraph" id="button_8c_a9ebb64bc3ea7a1e75d422784fe931347_cgraph">
<area shape="rect" id="node2" href="ninja_2gpio_8c.html#a624ad0306d1c4e6dfc8e2bb01798e0ce" title="Initialize a GPIO pin with its GPIO functionality and set its direction to input. ..." alt="" coords="136,5,240,32"/>
<area shape="rect" id="node3" href="ninja_2gpio_8c.html#a8cc18d800719367f95a7c1b1496e4267" title="Initialize a GPIO pin with its GPIO functionality. " alt="" coords="288,5,383,32"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a07e9441eeb4ae735dbbe5ec08bfbd33e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbutton__info.html">button_info</a> buttons[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    { <a class="code" href="ninja_2gpio_8h.html#a17024ec92fb640f98ea920b98d2c324c">GPIO_PIN</a>(6,  6) },</div>
<div class="line">    { <a class="code" href="ninja_2gpio_8h.html#a17024ec92fb640f98ea920b98d2c324c">GPIO_PIN</a>(7, 12) },</div>
<div class="line">    { <a class="code" href="ninja_2gpio_8h.html#a17024ec92fb640f98ea920b98d2c324c">GPIO_PIN</a>(7, 15) },</div>
<div class="line">    { <a class="code" href="ninja_2gpio_8h.html#a17024ec92fb640f98ea920b98d2c324c">GPIO_PIN</a>(7, 14) },</div>
<div class="line">    { <a class="code" href="ninja_2gpio_8h.html#a17024ec92fb640f98ea920b98d2c324c">GPIO_PIN</a>(1, 13) },</div>
<div class="line">    { <a class="code" href="ninja_2gpio_8h.html#a17024ec92fb640f98ea920b98d2c324c">GPIO_PIN</a>(6, 10) }</div>
<div class="line">}</div>
<div class="ttc" id="ninja_2gpio_8h_html_a17024ec92fb640f98ea920b98d2c324c"><div class="ttname"><a href="ninja_2gpio_8h.html#a17024ec92fb640f98ea920b98d2c324c">GPIO_PIN</a></div><div class="ttdeci">#define GPIO_PIN(B, O)</div><div class="ttdoc">Calculate the number of a GPIO pin (0 to 143) based on its bank and number on that bank...</div><div class="ttdef"><b>Definition:</b> gpio.h:27</div></div>
</div><!-- fragment -->
<p>Array storing the required GPIO pins to read the state of the buttons. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
