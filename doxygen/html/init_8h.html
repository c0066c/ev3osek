<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>EV3-OSEK: leJOS_EV3/src/ev3/init.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EV3-OSEK
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8ed1dde280f261b41bce9360cd3fdf32.html">leJOS_EV3</a></li><li class="navelem"><a class="el" href="dir_4ec2a68c26dfdc62fc66567ff851cecb.html">src</a></li><li class="navelem"><a class="el" href="dir_f628051c74760437d1b13574f9e26eb0.html">ev3</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">init.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This header provides the interface to initialize the leJOS EV3 drivers.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="init_8h__dep__incl.png" border="0" usemap="#le_j_o_s___e_v3_2src_2ev3_2init_8hdep" alt=""/></div>
<map name="le_j_o_s___e_v3_2src_2ev3_2init_8hdep" id="le_j_o_s___e_v3_2src_2ev3_2init_8hdep">
<area shape="rect" id="node2" href="ecrobot__interface_8h.html" title="This file contains the function declarations for the users ECRobot&#45;API. This API is used to interact ..." alt="" coords="5,87,196,114"/>
<area shape="rect" id="node4" href="adc__sensors_8c.html" title="This file contains the function definitions to read the analogous sensors. " alt="" coords="221,80,383,121"/>
<area shape="rect" id="node5" href="init_8c.html" title="This code is required in order to initialize the leJOS driver including all modules properly..." alt="" coords="408,87,577,114"/>
<area shape="rect" id="node3" href="ecrobot__interface_8c.html" title="This file contains the function definitions for the users ECRobot&#45;API. This API is used to interact w..." alt="" coords="5,169,196,196"/>
</map>
</div>
</div>
<p><a href="init_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsensor__port__info.html">sensor_port_info</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct combines information about a sensor port of the EV3.  <a href="structsensor__port__info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a40bf0e16650830d4fd523855eb384513"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsensor__port__info.html">sensor_port_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="init_8h.html#a40bf0e16650830d4fd523855eb384513">sensor_port_info</a></td></tr>
<tr class="memdesc:a40bf0e16650830d4fd523855eb384513"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct combines information about a sensor port of the EV3.  <a href="#a40bf0e16650830d4fd523855eb384513">More...</a><br /></td></tr>
<tr class="separator:a40bf0e16650830d4fd523855eb384513"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aebbe6b9342d909d61305c7302e0eb41f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="init_8h.html#aebbe6b9342d909d61305c7302e0eb41f">leJOS_init</a> (void)</td></tr>
<tr class="memdesc:aebbe6b9342d909d61305c7302e0eb41f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the leJOS driver and all required submodules.  <a href="#aebbe6b9342d909d61305c7302e0eb41f">More...</a><br /></td></tr>
<tr class="separator:aebbe6b9342d909d61305c7302e0eb41f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This header provides the interface to initialize the leJOS EV3 drivers. </p>
<dl class="section author"><dt>Author</dt><dd>Tobias Schie√ül, ev3ninja </dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a40bf0e16650830d4fd523855eb384513"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsensor__port__info.html">sensor_port_info</a>  <a class="el" href="structsensor__port__info.html">sensor_port_info</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This struct combines information about a sensor port of the EV3. </p>
<p>It is based on code taken from the ev3ninja project. Each sensor port is described by 4 GPIO pins which connect to the sensor, 1 buffer GPIO pin and 2 ADC channels. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aebbe6b9342d909d61305c7302e0eb41f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void leJOS_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the leJOS driver and all required submodules. </p>
<p>Initialization contains: AINTC, systick, sensor ports, motor ports, SPI controller, ADC, hardware buttons, LEDs</p>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="init_8h_aebbe6b9342d909d61305c7302e0eb41f_cgraph.png" border="0" usemap="#init_8h_aebbe6b9342d909d61305c7302e0eb41f_cgraph" alt=""/></div>
<map name="init_8h_aebbe6b9342d909d61305c7302e0eb41f_cgraph" id="init_8h_aebbe6b9342d909d61305c7302e0eb41f_cgraph">
<area shape="rect" id="node2" href="init_8c.html#aae3db3a98d70c22944d98e61fa398938" title="Initialize the AINTC by enabling normal interrupts (IRQ) and fast interrupts (FIQ) on all required le..." alt="" coords="136,233,229,260"/>
<area shape="rect" id="node9" href="systick_8c.html#ac816b9d61dad1fe749c8eb4c625320dd" title="Initialize the systick module, i.e. the hardware timer of the SoC. " alt="" coords="534,183,622,209"/>
<area shape="rect" id="node22" href="init_8c.html#a8ff671f56fe6749e5d35c8064e80a51e" title="Initialize the sensor ports of the EV3 by setting the correct pin&#45;multiplexing configuration. " alt="" coords="140,867,225,893"/>
<area shape="rect" id="node26" href="ninja_2spi_8c.html#ae909944aa85ae98323073c628be541aa" title="Initialize the SPI0 controller and the required GPIO pins. " alt="" coords="151,1040,214,1067"/>
<area shape="rect" id="node27" href="adc_8c.html#a2b815e6730e8723a6d1d06d9ef8f31c0" title="Initialize the ADC by providing it with power. " alt="" coords="149,1116,216,1143"/>
<area shape="rect" id="node28" href="motor_8c.html#aa2a5af0fb9c1fa2047a5ca0af110f806" title="Initialize the GPIO pins and the pwm modules necessary for motor moving functions. " alt="" coords="143,633,222,660"/>
<area shape="rect" id="node47" href="led_8c.html#a7eb4d382bdd4b42c57dbb7154d03ac66" title="Initialize the GPIO pins required to manipulate the LEDs. " alt="" coords="151,920,214,947"/>
<area shape="rect" id="node48" href="button_8c.html#a9ebb64bc3ea7a1e75d422784fe931347" title="Initialize the buttons be configuring the required GPIO pins as input pins. " alt="" coords="141,816,224,843"/>
<area shape="rect" id="node49" href="led_8c.html#af47863c8014e3ddf2909dedb61a7062b" title="Set the color of the given LED. " alt="" coords="151,977,215,1004"/>
<area shape="rect" id="node3" href="interrupt_8c.html#a216cbc1f5aed0d7e5f7ba557e730b0e9" title="This API is used to setup the AINTC. This API shall be called before using the AINTC. All the host interruptsi will be disabled after calling this API. The user shall enable all the interrupts required for processing. " alt="" coords="300,81,396,108"/>
<area shape="rect" id="node4" href="interrupt_8c.html#ab762b4e340eb694a59114d16a252919f" title="Enables the processor IRQ only in CPSR. Makes the processor to respond to IRQs. This does not affect ..." alt="" coords="277,132,419,159"/>
<area shape="rect" id="node5" href="interrupt_8c.html#af9ea132f26754d4ef754f8e0efd65ee9" title="Enables interrupts in GER register of AINTC. FIQ and IRQ will be signaled for processing. " alt="" coords="291,183,405,209"/>
<area shape="rect" id="node6" href="interrupt_8c.html#a66ae177818daddb7c73ea03249a4a814" title="Enables IRQ in HIER register of AINTC. " alt="" coords="297,233,399,260"/>
<area shape="rect" id="node7" href="interrupt_8c.html#a4d4febbbc95b51d284bc346b5aa788a2" title="Enables the processor FIQ only in CPSR. Makes the processor to respond to FIQs. This does not affect ..." alt="" coords="279,284,417,311"/>
<area shape="rect" id="node8" href="interrupt_8c.html#a5cd0cfc1a32f73a1a5134d76fcacd733" title="Enables FIQ in AINTC. " alt="" coords="299,335,397,361"/>
<area shape="rect" id="node10" href="timer_8c.html#aed4f606ff688de30d10e0b30eb7b5e21" title="Configures the timer. The timer can be configured in 64 bit mode 32 bit chained/unchained mode..." alt="" coords="743,5,854,32"/>
<area shape="rect" id="node11" href="timer_8c.html#a91cac574bb11559893394ad5b8cacfb9" title="Set the Period register(s) of the specified timer(s). " alt="" coords="743,56,855,83"/>
<area shape="rect" id="node12" href="timer_8c.html#a194d98f5a0ae1cdeb17deb7fe61c466f" title="Set the Reload period of the specified timer. " alt="" coords="741,107,857,133"/>
<area shape="rect" id="node13" href="interrupt_8c.html#a1ba160b3eddc19a9b5f3d1fa10ff6f46" title="Registers an interrupt Handler in the interrupt vector table for system interrupts. " alt="" coords="755,309,842,336"/>
<area shape="rect" id="node14" href="systick_8c.html#a9384a5cdefadfc512c20d301c750ffba" title="The systick interrupt service routine (ISR) which will be called every millisecond. " alt="" coords="747,157,850,184"/>
<area shape="rect" id="node18" href="timer_8c.html#a87b3ce1e8fe5a7fde5ec8f75cae4ff8c" title="Enables the specified timer interrupts. The timer interrupts which are to be enabled can be passed as..." alt="" coords="936,208,1047,235"/>
<area shape="rect" id="node19" href="interrupt_8c.html#a2315050a4707c58de742a7bdb6fce944" title="Set the channel number for a system interrupt. Channel numbers 0&#45;1 are mapped to FIQ and Channel numb..." alt="" coords="746,360,851,387"/>
<area shape="rect" id="node20" href="interrupt_8c.html#abe0fc487514af7fb2b839b713da2dff4" title="Enables the sytem interrupt in AINTC. The interrupt will be processed only if it is enabled in AINTC..." alt="" coords="737,411,860,437"/>
<area shape="rect" id="node21" href="timer_8c.html#af46e1a7c7a2cc64a0c698b091c0cd608" title="Enables the timer in the specified mode. The timer must be configured before it is enabled..." alt="" coords="751,259,846,285"/>
<area shape="rect" id="node15" href="timer_8c.html#ab32d99a0068510c6ff13935e194bf6b2" title="Disables the specified timer interrupts. " alt="" coords="934,107,1049,133"/>
<area shape="rect" id="node16" href="interrupt_8c.html#a6583ca8d7b474ed993ce31b45ef1dfd2" title="Clears a sytem interrupt status in AINTC. " alt="" coords="916,411,1067,437"/>
<area shape="rect" id="node17" href="timer_8c.html#af9d8f894846ff4e5e5796f0e88ae8c78" title="Clears the status of specified timer interrupts. " alt="" coords="922,157,1061,184"/>
<area shape="rect" id="node23" href="ninja_2gpio_8c.html#a624ad0306d1c4e6dfc8e2bb01798e0ce" title="Initialize a GPIO pin with its GPIO functionality and set its direction to input. ..." alt="" coords="296,816,400,843"/>
<area shape="rect" id="node24" href="ninja_2gpio_8c.html#a8cc18d800719367f95a7c1b1496e4267" title="Initialize a GPIO pin with its GPIO functionality. " alt="" coords="751,993,846,1020"/>
<area shape="rect" id="node25" href="ninja_2gpio_8c.html#a7f7ab845fe3eb7d621eeaec3b116d6d2" title="Initialize a GPIO pin with its GPIO functionality and set its direction to output. " alt="" coords="522,993,634,1020"/>
<area shape="rect" id="node29" href="motor_8c.html#af701d3f5cabca15ad46c5ab614e8da2d" title="Load Compare B value " alt="" coords="529,841,627,868"/>
<area shape="rect" id="node30" href="motor_8c.html#a5ac1bf3bcb36ac7ae513eef6e4b5ceb5" title="Load Compare A value " alt="" coords="529,233,627,260"/>
<area shape="rect" id="node31" href="motor_8c.html#aa5aa952927a9c3495c1e744908541580" title="Load Compare D value " alt="" coords="529,284,627,311"/>
<area shape="rect" id="node32" href="motor_8c.html#a334a3e5169e70060d46a49c7992832e9" title="Load Compare C value " alt="" coords="529,335,627,361"/>
<area shape="rect" id="node33" href="motor_8c.html#adf88364d9a6474487d32f0909a132d46" title="Initialize EHRPWM. " alt="" coords="302,588,394,615"/>
<area shape="rect" id="node34" href="syscfg_8c.html#ad9852f17f940b3d76a65df9d28a18960" title="This function unlocks the write&#45;protection of the SYSCFG module. " alt="" coords="497,487,659,513"/>
<area shape="rect" id="node35" href="psc_8c.html#a0cd2b7fe05e515aee9da70ce503ddc01" title="This function sets the requested module in the required state. " alt="" coords="511,537,645,564"/>
<area shape="rect" id="node36" href="motor_8c.html#ac5b387bcac9ff8af13097e4292a6769f" title="This function does appropriate Pin multiplexing to enable the use of pwm1, ecap0 and ecap1 related pi..." alt="" coords="493,588,663,615"/>
<area shape="rect" id="node37" href="ehrpwm_8c.html#a07998e157a6e55df784aa3543ebf7697" title="This API disables the synchronization. Even if sync&#45;in event occurs the count value will not be reloa..." alt="" coords="471,639,685,665"/>
<area shape="rect" id="node38" href="ehrpwm_8c.html#a525c8131e2870b90f640725de883061a" title="This API selects the output sync source. It determines on which of the following event sync&#45;out has t..." alt="" coords="485,689,671,716"/>
<area shape="rect" id="node39" href="ehrpwm_8c.html#afc497c2bab4286561d658403f958a0e5" title="This API configures the action to be taken on A by the Action qualifier module upon receiving the eve..." alt="" coords="467,740,689,767"/>
<area shape="rect" id="node40" href="ehrpwm_8c.html#a79eb376f1d6ab2bbab1e163262f1c94d" title="his API configures the action to be taken on B by the Action qualifier module upon receiving the even..." alt="" coords="467,791,689,817"/>
<area shape="rect" id="node41" href="motor_8c.html#a948dbfc6459672a0eaa751152e7337fa" title="Enable GPIO interrupts for bank 5 and 6. " alt="" coords="522,436,634,463"/>
<area shape="rect" id="node46" href="syscfg_8c.html#a94096dbe2e0e6102149173a8d10e1591" title="This function imposes write&#45;protection on the SYSCFG module. " alt="" coords="503,385,653,412"/>
<area shape="rect" id="node42" href="motor_8c.html#a0da918a60e129522d9e6c05ca4eb8c37" title="Interrupt service routine for Pin Bank 5 (ports A, B and C). Calls ev3_motor_quad_decode() if one of ..." alt="" coords="761,512,837,539"/>
<area shape="rect" id="node45" href="motor_8c.html#a68152e5f1a6568e900ccaf3c378c0900" title="Interrupt service routine for Pin Bank 6. Calls ev3_motor_quad_decode() to actualize current wheel re..." alt="" coords="761,461,837,488"/>
<area shape="rect" id="node43" href="drivers_2gpio_8c.html#ac82e9f0cd76464c789391821b7b3fb27" title="This function disables the interrupt generation capability for the bank of GPIO pins specified..." alt="" coords="919,512,1063,539"/>
<area shape="rect" id="node44" href="motor_8c.html#a73b0c539f3f60ea84ad8f0032cd40fff" title="Calculate actual revolution count of given motor port. " alt="" coords="908,461,1075,488"/>
<area shape="rect" id="node50" href="ninja_2gpio_8c.html#a69974a7766fccf6b3ce362fec9ed8dfc" title="Set the value of a GPIO pin which is configured as output. " alt="" coords="313,1019,383,1045"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
